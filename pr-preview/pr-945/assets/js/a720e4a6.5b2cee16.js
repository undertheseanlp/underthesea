"use strict";(globalThis.webpackChunkunderthesea_docs=globalThis.webpackChunkunderthesea_docs||[]).push([[2335],{1082(e,n,t){t.r(n),t.d(n,{assets:()=>O,contentTitle:()=>C,default:()=>D,frontMatter:()=>P,metadata:()=>s,toc:()=>k});const s=JSON.parse('{"id":"api/agent","title":"agent","description":"Conversational AI agent for Vietnamese language tasks using OpenAI or Azure OpenAI.","source":"@site/docs/api/agent.md","sourceDirName":"api","slug":"/api/agent","permalink":"/docs/api/agent","draft":false,"unlisted":false,"editUrl":"https://github.com/undertheseanlp/underthesea/tree/main/docusaurus/docs/api/agent.md","tags":[],"version":"current","frontMatter":{},"sidebar":"apiReferenceSidebar","previous":{"title":"tts","permalink":"/docs/api/tts"}}');var r=t(4848),l=t(8453),i=t(6540),o=t(4164),a=t(7559),d=t(3104),c=t(6347),h=t(205),u=t(7485),x=t(1682),j=t(679);function p(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:n,children:t}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return p(e).map(({props:{value:e,label:n,attributes:t,default:s}})=>({value:e,label:n,attributes:t,default:s}))}(t);return function(e){const n=(0,x.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function g({value:e,tabValues:n}){return n.some(n=>n.value===e)}function f({queryString:e=!1,groupId:n}){const t=(0,c.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,u.aZ)(s),(0,i.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})},[s,t])]}function v(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,r=m(e),[l,o]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!g({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r})),[a,d]=f({queryString:t,groupId:s}),[c,u]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,j.Dv)(n);return[t,(0,i.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),x=(()=>{const e=a??c;return g({value:e,tabValues:r})?e:null})();(0,h.A)(()=>{x&&o(x)},[x]);return{selectedValue:l,selectValue:(0,i.useCallback)(e=>{if(!g({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),u(e)},[d,u,r]),tabValues:r}}var y=t(2303);const b="tabList__CuJ",_="tabItem_LNqP";function A({className:e,block:n,selectedValue:t,selectValue:s,tabValues:l}){const i=[],{blockElementScrollPositionUntilNextRender:a}=(0,d.a_)(),c=e=>{const n=e.currentTarget,r=i.indexOf(n),o=l[r].value;o!==t&&(a(n),s(o))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=i.indexOf(e.currentTarget)+1;n=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(e.currentTarget)-1;n=i[t]??i[i.length-1];break}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:l.map(({value:e,label:n,attributes:s})=>(0,r.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{i.push(e)},onKeyDown:h,onClick:c,...s,className:(0,o.A)("tabs__item",_,s?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function N({lazy:e,children:n,selectedValue:t}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===t);return e?(0,i.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function w(e){const n=v(e);return(0,r.jsxs)("div",{className:(0,o.A)(a.G.tabs.container,"tabs-container",b),children:[(0,r.jsx)(A,{...n,...e}),(0,r.jsx)(N,{...n,...e})]})}function T(e){const n=(0,y.A)();return(0,r.jsx)(w,{...e,children:p(e.children)},String(n))}const I="tabItem_Ymn6";function E({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,o.A)(I,t),hidden:n,children:e})}const P={},C="agent",O={},k=[{value:"Usage",id:"usage",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Environment Variables Reference",id:"environment-variables-reference",level:3},{value:"Function Signature",id:"function-signature",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2},{value:"Methods",id:"methods",level:2},{value:"<code>agent.reset()</code>",id:"agentreset",level:3},{value:"<code>agent.history</code>",id:"agenthistory",level:3},{value:"Examples",id:"examples",level:2},{value:"Basic Conversation",id:"basic-conversation",level:3},{value:"Custom System Prompt",id:"custom-system-prompt",level:3},{value:"Custom Model",id:"custom-model",level:3},{value:"Azure OpenAI",id:"azure-openai",level:3},{value:"Vietnamese NLP Assistant",id:"vietnamese-nlp-assistant",level:3},{value:"LLM Class",id:"llm-class",level:2},{value:"Agent Class with Tools",id:"agent-class-with-tools",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Agent Constructor",id:"agent-constructor",level:3},{value:"Tool Class",id:"tool-class",level:3},{value:"Tool Constructor",id:"tool-constructor",level:3},{value:"Supported Parameter Types",id:"supported-parameter-types",level:3},{value:"Multiple Tools Example",id:"multiple-tools-example",level:3},{value:"Agent without Tools",id:"agent-without-tools",level:3},{value:"Default Tools",id:"default-tools",level:2},{value:"Tool Collections",id:"tool-collections",level:3},{value:"Core Tools",id:"core-tools",level:3},{value:"Web Tools",id:"web-tools",level:3},{value:"System Tools",id:"system-tools",level:3},{value:"Using Default Tools",id:"using-default-tools",level:3},{value:"Using Specific Tool Collections",id:"using-specific-tool-collections",level:3},{value:"Using Tools Directly",id:"using-tools-directly",level:3},{value:"Notes",id:"notes",level:2}];function U(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"agent",children:"agent"})}),"\n",(0,r.jsx)(n.p,{children:"Conversational AI agent for Vietnamese language tasks using OpenAI or Azure OpenAI."}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea import agent\n\nresponse = agent("Xin ch\xe0o, NLP l\xe0 g\xec?")\nprint(response)\n# NLP (Natural Language Processing) l\xe0 x\u1eed l\xfd ng\xf4n ng\u1eef t\u1ef1 nhi\xean...\n'})}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'pip install "underthesea[agent]"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n","\n",(0,r.jsxs)(T,{children:[(0,r.jsx)(E,{value:"openai",label:"OpenAI",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'export OPENAI_API_KEY="sk-..."\nexport OPENAI_MODEL="gpt-4o-mini"  # optional\n'})})}),(0,r.jsx)(E,{value:"azure",label:"Azure OpenAI",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'export AZURE_OPENAI_API_KEY="..."\nexport AZURE_OPENAI_ENDPOINT="https://xxx.openai.azure.com"\nexport AZURE_OPENAI_DEPLOYMENT="my-gpt4-deployment"  # optional\nexport AZURE_OPENAI_API_VERSION="2024-02-01"  # optional\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"environment-variables-reference",children:"Environment Variables Reference"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Provider"}),(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OpenAI"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OPENAI_API_KEY"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"OpenAI API key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OpenAI"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OPENAI_MODEL"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["Model name (default: ",(0,r.jsx)(n.code,{children:"gpt-4o-mini"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Azure"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AZURE_OPENAI_API_KEY"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Azure OpenAI API key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Azure"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AZURE_OPENAI_ENDPOINT"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Azure OpenAI endpoint URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Azure"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AZURE_OPENAI_DEPLOYMENT"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["Deployment name (default: ",(0,r.jsx)(n.code,{children:"gpt-4o-mini"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Azure"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AZURE_OPENAI_API_VERSION"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["API version (default: ",(0,r.jsx)(n.code,{children:"2024-02-01"}),")"]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"function-signature",children:"Function Signature"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def agent(\n    message: str,\n    model: str | None = None,\n    system_prompt: str | None = None,\n    provider: str | None = None,\n    api_key: str | None = None,\n    azure_endpoint: str | None = None,\n    azure_api_version: str | None = None,\n) -> str\n"})}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"message"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"User message to send"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"model"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["Model/deployment name. Falls back to env var or ",(0,r.jsx)(n.code,{children:"gpt-4o-mini"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"system_prompt"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Custom system prompt"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"provider"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["Provider: ",(0,r.jsx)(n.code,{children:'"openai"'})," or ",(0,r.jsx)(n.code,{children:'"azure"'}),". Auto-detected if not specified"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_key"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"API key. Falls back to environment variable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"azure_endpoint"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["Azure endpoint URL. Falls back to ",(0,r.jsx)(n.code,{children:"AZURE_OPENAI_ENDPOINT"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"azure_api_version"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["Azure API version. Falls back to env var or ",(0,r.jsx)(n.code,{children:"2024-02-01"})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:"Assistant response"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h3,{id:"agentreset",children:(0,r.jsx)(n.code,{children:"agent.reset()"})}),"\n",(0,r.jsx)(n.p,{children:"Clear conversation history."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"agent.reset()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"agenthistory",children:(0,r.jsx)(n.code,{children:"agent.history"})}),"\n",(0,r.jsx)(n.p,{children:"Get conversation history (read-only copy)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"history = agent.history\n# [{'role': 'user', 'content': '...'}, {'role': 'assistant', 'content': '...'}]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"basic-conversation",children:"Basic Conversation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea import agent\n\n# First message\nresponse = agent("Xin ch\xe0o!")\nprint(response)\n# Xin ch\xe0o! T\xf4i c\xf3 th\u1ec3 gi\xfap g\xec cho b\u1ea1n?\n\n# Follow-up (history is maintained)\nresponse = agent("NLP l\xe0 g\xec?")\nprint(response)\n# NLP (Natural Language Processing) l\xe0...\n\n# Check history\nprint(len(agent.history))  # 4 (2 user + 2 assistant messages)\n\n# Reset conversation\nagent.reset()\nprint(len(agent.history))  # 0\n'})}),"\n",(0,r.jsx)(n.h3,{id:"custom-system-prompt",children:"Custom System Prompt"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea import agent\n\nresponse = agent(\n    "Ch\xe0o b\u1ea1n",\n    system_prompt="B\u1ea1n l\xe0 tr\u1ee3 l\xfd chuy\xean v\u1ec1 \u1ea9m th\u1ef1c Vi\u1ec7t Nam."\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"custom-model",children:"Custom Model"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea import agent\n\n# Use GPT-4\nresponse = agent("Gi\u1ea3i th\xedch machine learning", model="gpt-4")\n\n# Use GPT-4 Turbo\nresponse = agent("Gi\u1ea3i th\xedch deep learning", model="gpt-4-turbo")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"azure-openai",children:"Azure OpenAI"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea import agent\n\n# Using environment variables (recommended)\n# export AZURE_OPENAI_API_KEY="..."\n# export AZURE_OPENAI_ENDPOINT="https://xxx.openai.azure.com"\n# export AZURE_OPENAI_DEPLOYMENT="my-gpt4"\n\nresponse = agent("Xin ch\xe0o")\n\n# Or explicit configuration\nresponse = agent(\n    "Xin ch\xe0o",\n    provider="azure",\n    api_key="your-azure-key",\n    azure_endpoint="https://your-resource.openai.azure.com",\n    model="your-deployment-name"\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"vietnamese-nlp-assistant",children:"Vietnamese NLP Assistant"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea import agent, word_tokenize, pos_tag\n\n# Use agent to explain NLP concepts\ntext = "H\u1ecdc m\xe1y l\xe0 g\xec?"\nresponse = agent(text)\nprint(response)\n\n# Combine with other underthesea functions\ntext = "Vi\u1ec7t Nam l\xe0 qu\u1ed1c gia xinh \u0111\u1eb9p"\ntokens = word_tokenize(text)\ntags = pos_tag(text)\n\n# Ask agent to explain the results\nresponse = agent(f"Gi\u1ea3i th\xedch k\u1ebft qu\u1ea3 POS tagging: {tags}")\nprint(response)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"llm-class",children:"LLM Class"}),"\n",(0,r.jsxs)(n.p,{children:["For more control, use the ",(0,r.jsx)(n.code,{children:"LLM"})," class directly:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea.agent import LLM\n\n# Initialize\nllm = LLM(model="gpt-4")\n\n# Chat with custom messages\nmessages = [\n    {"role": "system", "content": "You are a Vietnamese language expert."},\n    {"role": "user", "content": "Explain word segmentation in Vietnamese."}\n]\nresponse = llm.chat(messages)\nprint(response)\n\n# Check provider\nprint(llm.provider)  # \'openai\' or \'azure\'\nprint(llm.model)     # \'gpt-4\'\n'})}),"\n",(0,r.jsx)(n.h2,{id:"agent-class-with-tools",children:"Agent Class with Tools"}),"\n",(0,r.jsx)(n.p,{children:"Create custom agents with function calling support using OpenAI's tools API."}),"\n",(0,r.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea.agent import Agent, Tool\n\n# Define a tool as a Python function\ndef get_weather(location: str) -> dict:\n    """Get current weather for a location."""\n    return {"location": location, "temp": 25, "condition": "sunny"}\n\n# Create agent with tools\nmy_agent = Agent(\n    name="weather_assistant",\n    tools=[Tool(get_weather, description="Get weather for a city")],\n    instruction="You are a helpful weather assistant."\n)\n\n# Use the agent - it will automatically call tools when needed\nresponse = my_agent("What\'s the weather in Hanoi?")\nprint(response)\n# The weather in Hanoi is 25\xb0C and sunny.\n\n# Reset conversation\nmy_agent.reset()\n'})}),"\n",(0,r.jsx)(n.h3,{id:"agent-constructor",children:"Agent Constructor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Agent(\n    name: str,\n    tools: list[Tool] | None = None,\n    instruction: str | None = None,\n    max_iterations: int = 10,\n)\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Agent name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tools"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"list[Tool]"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"List of tools available to the agent"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"instruction"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"You are a helpful assistant."'})}),(0,r.jsx)(n.td,{children:"System instruction"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_iterations"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10"})}),(0,r.jsx)(n.td,{children:"Maximum tool calling iterations"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"tool-class",children:"Tool Class"}),"\n",(0,r.jsx)(n.p,{children:"Wrap Python functions as agent tools:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea.agent import Tool\n\ndef search(query: str, limit: int = 10) -> list:\n    """Search for items matching the query."""\n    return [{"title": f"Result for {query}"}]\n\ntool = Tool(\n    func=search,\n    name="web_search",           # Optional, defaults to function name\n    description="Search the web" # Optional, defaults to docstring\n)\n\n# Convert to OpenAI format\nopenai_format = tool.to_openai_tool()\n\n# Execute directly\nresult = tool(query="python", limit=5)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"tool-constructor",children:"Tool Constructor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Tool(\n    func: Callable,\n    name: str | None = None,\n    description: str | None = None,\n)\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"func"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Callable"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The function to wrap"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Tool name (defaults to function name)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"description"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Tool description (defaults to docstring)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"supported-parameter-types",children:"Supported Parameter Types"}),"\n",(0,r.jsx)(n.p,{children:"The Tool class automatically extracts JSON schema from function signatures:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Python Type"}),(0,r.jsx)(n.th,{children:"JSON Schema Type"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"integer"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"float"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"list"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"array"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"multiple-tools-example",children:"Multiple Tools Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea.agent import Agent, Tool\n\ndef get_weather(location: str) -> dict:\n    """Get current weather for a location."""\n    return {"location": location, "temp": 25}\n\ndef search_news(query: str) -> str:\n    """Search Vietnamese news articles."""\n    return f"Found articles about: {query}"\n\ndef translate_text(text: str, target_lang: str = "en") -> str:\n    """Translate Vietnamese text."""\n    return f"Translated: {text}"\n\nagent = Agent(\n    name="multi_tool_agent",\n    tools=[\n        Tool(get_weather),\n        Tool(search_news),\n        Tool(translate_text, description="Translate Vietnamese to other languages"),\n    ],\n    instruction="You are a helpful Vietnamese assistant with access to weather, news, and translation tools."\n)\n\n# The agent decides which tool to use based on the query\nresponse = agent("Th\u1eddi ti\u1ebft \u1edf \u0110\xe0 N\u1eb5ng th\u1ebf n\xe0o?")  # Uses get_weather\nresponse = agent("Tin t\u1ee9c v\u1ec1 AI h\xf4m nay")          # Uses search_news\nresponse = agent("D\u1ecbch \'Xin ch\xe0o\' sang ti\u1ebfng Anh") # Uses translate_text\n'})}),"\n",(0,r.jsx)(n.h3,{id:"agent-without-tools",children:"Agent without Tools"}),"\n",(0,r.jsx)(n.p,{children:"Agent also works without tools as a simple conversational agent:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea.agent import Agent\n\nsimple_agent = Agent(\n    name="chatbot",\n    instruction="You are a friendly Vietnamese chatbot."\n)\n\nresponse = simple_agent("Xin ch\xe0o!")\nprint(response)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"default-tools",children:"Default Tools"}),"\n",(0,r.jsx)(n.p,{children:"Pre-built tools similar to LangChain/OpenAI tools for common tasks."}),"\n",(0,r.jsx)(n.h3,{id:"tool-collections",children:"Tool Collections"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Collection"}),(0,r.jsx)(n.th,{children:"Tools"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"default_tools"})}),(0,r.jsx)(n.td,{children:"12 tools"}),(0,r.jsx)(n.td,{children:"All default tools"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"core_tools"})}),(0,r.jsx)(n.td,{children:"4 tools"}),(0,r.jsx)(n.td,{children:"Safe utilities (datetime, calculator, string, json)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"web_tools"})}),(0,r.jsx)(n.td,{children:"3 tools"}),(0,r.jsx)(n.td,{children:"Web operations (search, fetch, wikipedia)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"system_tools"})}),(0,r.jsx)(n.td,{children:"5 tools"}),(0,r.jsx)(n.td,{children:"System operations (file, shell, python)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"core-tools",children:"Core Tools"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tool"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"current_datetime_tool"})}),(0,r.jsx)(n.td,{children:"Get current date, time, weekday"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"calculator_tool"})}),(0,r.jsx)(n.td,{children:"Evaluate math expressions (supports sqrt, sin, cos, log, pi, e)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string_length_tool"})}),(0,r.jsx)(n.td,{children:"Count characters, words, lines in text"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"json_parse_tool"})}),(0,r.jsx)(n.td,{children:"Parse JSON strings"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"web-tools",children:"Web Tools"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tool"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"web_search_tool"})}),(0,r.jsx)(n.td,{children:"Search the web using DuckDuckGo (no API key)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fetch_url_tool"})}),(0,r.jsx)(n.td,{children:"Fetch content from a URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"wikipedia_tool"})}),(0,r.jsx)(n.td,{children:"Search Wikipedia (supports Vietnamese and English)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"system-tools",children:"System Tools"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tool"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"read_file_tool"})}),(0,r.jsx)(n.td,{children:"Read content from a file"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"write_file_tool"})}),(0,r.jsx)(n.td,{children:"Write content to a file"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"list_directory_tool"})}),(0,r.jsx)(n.td,{children:"List files and directories"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"shell_tool"})}),(0,r.jsx)(n.td,{children:"Run shell commands"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"python_tool"})}),(0,r.jsx)(n.td,{children:"Execute Python code"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"using-default-tools",children:"Using Default Tools"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea.agent import Agent, default_tools\n\n# Create agent with all default tools\nmy_agent = Agent(\n    name="assistant",\n    tools=default_tools,\n    instruction="You are a helpful assistant with access to various tools."\n)\n\n# Agent can now use any tool automatically\nmy_agent("What time is it?")           # Uses current_datetime_tool\nmy_agent("Calculate sqrt(144) + 10")   # Uses calculator_tool\nmy_agent("Search for Python tutorials") # Uses web_search_tool\nmy_agent("List files in current dir")  # Uses list_directory_tool\n'})}),"\n",(0,r.jsx)(n.h3,{id:"using-specific-tool-collections",children:"Using Specific Tool Collections"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from underthesea.agent import Agent, core_tools, web_tools\n\n# Safe agent with only core tools (no system access)\nsafe_agent = Agent(\n    name="safe_assistant",\n    tools=core_tools,\n)\n\n# Web-enabled agent\nweb_agent = Agent(\n    name="web_assistant",\n    tools=core_tools + web_tools,\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"using-tools-directly",children:"Using Tools Directly"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from underthesea.agent import calculator_tool, current_datetime_tool, wikipedia_tool\n\n# Call tools directly (without LLM)\nresult = calculator_tool(expression=\"2 ** 10\")\nprint(result)  # {'expression': '2 ** 10', 'result': 1024}\n\nnow = current_datetime_tool()\nprint(now)  # {'datetime': '...', 'date': '...', 'weekday': 'Friday', ...}\n\nwiki = wikipedia_tool(query=\"H\xe0 N\u1ed9i\", lang=\"vi\")\nprint(wiki[\"summary\"])  # Wikipedia summary about Hanoi\n"})}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The agent maintains conversation history across calls"}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"agent.reset()"})," to start a new conversation"]}),"\n",(0,r.jsx)(n.li,{children:"Azure OpenAI is preferred when both credentials are available"}),"\n",(0,r.jsx)(n.li,{children:"Default system prompt focuses on Vietnamese language and NLP tasks"}),"\n",(0,r.jsx)(n.li,{children:"First call may be slower due to client initialization"}),"\n",(0,r.jsx)(n.li,{children:"Agent with tools uses OpenAI's function calling API"}),"\n",(0,r.jsx)(n.li,{children:"Tools are automatically called when the model decides they are needed"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"max_iterations"})," prevents infinite tool calling loops"]}),"\n"]})]})}function D(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(U,{...e})}):U(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const r={},l=s.createContext(r);function i(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);