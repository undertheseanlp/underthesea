"use strict";(globalThis.webpackChunkunderthesea_docs=globalThis.webpackChunkunderthesea_docs||[]).push([[875],{5(e,r,d){d.r(r),d.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>x,frontMatter:()=>i,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"api/core/tfidf","title":"TfIdfVectorizer","description":"TF-IDF vectorization with n-gram support, L2 normalization, and sublinear TF scaling.","source":"@site/versioned_docs/version-9.2/api/core/tfidf.md","sourceDirName":"api/core","slug":"/api/core/tfidf","permalink":"/docs/9.2/api/core/tfidf","draft":false,"unlisted":false,"editUrl":"https://github.com/undertheseanlp/underthesea/tree/main/docusaurus/versioned_docs/version-9.2/api/core/tfidf.md","tags":[],"version":"9.2","frontMatter":{},"sidebar":"apiReferenceSidebar","previous":{"title":"Text Classifier","permalink":"/docs/9.2/api/core/text-classifier"},"next":{"title":"TextPreprocessor","permalink":"/docs/9.2/api/core/text-preprocessor"}}');var t=d(4848),s=d(8453);const i={},c="TfIdfVectorizer",l={},o=[{value:"Usage",id:"usage",level:2},{value:"Constructor",id:"constructor",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Properties",id:"properties",level:2},{value:"Methods",id:"methods",level:2}];function h(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"tfidfvectorizer",children:"TfIdfVectorizer"})}),"\n",(0,t.jsx)(r.p,{children:"TF-IDF vectorization with n-gram support, L2 normalization, and sublinear TF scaling."}),"\n",(0,t.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'from underthesea_core import TfIdfVectorizer\n\ndocuments = [\n    "s\u1ea3n ph\u1ea9m r\u1ea5t t\u1ed1t",\n    "h\xe0ng \u0111\u1eb9p gi\xe1 r\u1ebb",\n    "s\u1ea3n ph\u1ea9m k\xe9m ch\u1ea5t l\u01b0\u1ee3ng",\n]\n\nvectorizer = TfIdfVectorizer(max_features=10000, ngram_range=(1, 2))\nvectorizer.fit(documents)\n\n# Sparse transform\nsparse = vectorizer.transform("s\u1ea3n ph\u1ea9m t\u1ed1t")\n# [(0, 0.577), (3, 0.577), (7, 0.577)]\n\n# Dense transform\ndense = vectorizer.transform_dense("s\u1ea3n ph\u1ea9m t\u1ed1t")\n# [0.577, 0.0, 0.0, 0.577, ...]\n\n# Feature strings for LRClassifier\nfeatures = vectorizer.transform_to_features("s\u1ea3n ph\u1ea9m t\u1ed1t")\n# ["tfidf_0=0.5774", "tfidf_3=0.5774", ...]\n\n# Fit and transform in one step\nsparse_vectors = vectorizer.fit_transform(documents)\n\n# Save/load\nvectorizer.save("vectorizer.bin")\nvectorizer = TfIdfVectorizer.load("vectorizer.bin")\n'})}),"\n",(0,t.jsx)(r.h2,{id:"constructor",children:"Constructor"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"TfIdfVectorizer(\n    min_df=1,\n    max_df=1.0,\n    max_features=0,\n    sublinear_tf=False,\n    lowercase=True,\n    ngram_range=(1, 1),\n    min_token_length=2,\n    norm=True,\n)\n"})}),"\n",(0,t.jsx)(r.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Parameter"}),(0,t.jsx)(r.th,{children:"Type"}),(0,t.jsx)(r.th,{children:"Default"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"min_df"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"int"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"1"})}),(0,t.jsx)(r.td,{children:"Minimum document frequency"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"max_df"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"float"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"1.0"})}),(0,t.jsx)(r.td,{children:"Maximum document frequency ratio"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"max_features"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"int"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"0"})}),(0,t.jsx)(r.td,{children:"Maximum vocabulary size (0 = unlimited)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"sublinear_tf"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"bool"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"False"})}),(0,t.jsx)(r.td,{children:"Use sublinear TF scaling (1 + log(tf))"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"lowercase"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"bool"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"True"})}),(0,t.jsx)(r.td,{children:"Convert text to lowercase"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"ngram_range"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"(int, int)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"(1, 1)"})}),(0,t.jsx)(r.td,{children:"Min and max n-gram range"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"min_token_length"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"int"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"2"})}),(0,t.jsx)(r.td,{children:"Minimum token length"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"norm"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"bool"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"True"})}),(0,t.jsx)(r.td,{children:"Apply L2 normalization"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Property"}),(0,t.jsx)(r.th,{children:"Type"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"vocab_size"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"int"})}),(0,t.jsx)(r.td,{children:"Vocabulary size"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"n_docs"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"int"})}),(0,t.jsx)(r.td,{children:"Number of documents used for fitting"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Method"}),(0,t.jsx)(r.th,{children:"Returns"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"fit(documents)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"None"})}),(0,t.jsx)(r.td,{children:"Fit the vectorizer on a list of documents"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"transform(document)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"list[(int, float)]"})}),(0,t.jsx)(r.td,{children:"Transform to sparse TF-IDF (feature_index, value)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"transform_dense(document)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"list[float]"})}),(0,t.jsx)(r.td,{children:"Transform to dense TF-IDF vector"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"transform_to_features(document)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"list[str]"})}),(0,t.jsxs)(r.td,{children:["Transform to feature strings for ",(0,t.jsx)(r.code,{children:"LRClassifier"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"fit_transform(documents)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"list[list[(int, float)]]"})}),(0,t.jsx)(r.td,{children:"Fit and transform in one step"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"is_fitted()"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"bool"})}),(0,t.jsx)(r.td,{children:"Check if the vectorizer has been fitted"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"get_feature_names()"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"list[str]"})}),(0,t.jsx)(r.td,{children:"Get vocabulary words in order"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"get_idf()"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"list[float]"})}),(0,t.jsx)(r.td,{children:"Get IDF values for all features"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"top_features_by_idf(n)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"list[(str, float)]"})}),(0,t.jsx)(r.td,{children:"Get top n features by IDF value"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"get_index(word)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"int | None"})}),(0,t.jsx)(r.td,{children:"Get index of a word in vocabulary"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"get_word(index)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"str | None"})}),(0,t.jsx)(r.td,{children:"Get word at a given index"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"save(path)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"None"})}),(0,t.jsx)(r.td,{children:"Save vectorizer to file"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"load(path)"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"TfIdfVectorizer"})}),(0,t.jsx)(r.td,{children:"Load vectorizer from file (static)"})]})]})]})]})}function x(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,r,d){d.d(r,{R:()=>i,x:()=>c});var n=d(6540);const t={},s=n.createContext(t);function i(e){const r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);