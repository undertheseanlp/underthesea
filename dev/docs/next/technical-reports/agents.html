<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-technical-reports/agents/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Agents | Underthesea</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://undertheseanlp.github.io/underthesea/dev/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://undertheseanlp.github.io/underthesea/dev/img/logo.png"><meta data-rh="true" property="og:url" content="https://undertheseanlp.github.io/underthesea/dev/docs/next/technical-reports/agents"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Agents | Underthesea"><meta data-rh="true" name="description" content="This document provides a technical overview of the agent module in underthesea, including architecture, tools, and comparison with other popular agent frameworks."><meta data-rh="true" property="og:description" content="This document provides a technical overview of the agent module in underthesea, including architecture, tools, and comparison with other popular agent frameworks."><link data-rh="true" rel="icon" href="/underthesea/dev/img/logo.png"><link data-rh="true" rel="canonical" href="https://undertheseanlp.github.io/underthesea/dev/docs/next/technical-reports/agents"><link data-rh="true" rel="alternate" href="https://undertheseanlp.github.io/underthesea/dev/docs/next/technical-reports/agents" hreflang="en"><link data-rh="true" rel="alternate" href="https://undertheseanlp.github.io/underthesea/dev/docs/next/technical-reports/agents" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Agents","item":"https://undertheseanlp.github.io/underthesea/dev/docs/next/technical-reports/agents/"}]}</script><link rel="alternate" type="application/rss+xml" href="/underthesea/dev/blog/rss.xml" title="Underthesea RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/underthesea/dev/blog/atom.xml" title="Underthesea Atom Feed"><link rel="stylesheet" href="/underthesea/dev/assets/css/styles.fe64eb03.css">
<script src="/underthesea/dev/assets/js/runtime~main.70ad2a6a.js" defer="defer"></script>
<script src="/underthesea/dev/assets/js/main.6952217e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/underthesea/dev/"><div class="navbar__logo"><img src="/underthesea/dev/img/logo.png" alt="Underthesea Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/underthesea/dev/img/logo.png" alt="Underthesea Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Underthesea</b></a><a class="navbar__item navbar__link" href="/underthesea/dev/docs/next">Install</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/underthesea/dev/docs/next/technical-reports/text-normalize">Models</a><a class="navbar__item navbar__link" href="/underthesea/dev/docs/next/datasets/uts-vlc">Datasets</a><a class="navbar__item navbar__link" href="/underthesea/dev/docs/next/api">API</a><a class="navbar__item navbar__link" href="/underthesea/dev/docs/next/changelog">Changelog</a><a class="navbar__item navbar__link" href="/underthesea/dev/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/undertheseanlp/underthesea" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--active"><span title="Technical Reports" class="categoryLinkLabel_W154">Technical Reports</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/underthesea/dev/docs/next/technical-reports/text-normalize"><span title="NLP" class="categoryLinkLabel_W154">NLP</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/underthesea/dev/docs/next/technical-reports/audio/text-to-speech"><span title="Audio" class="categoryLinkLabel_W154">Audio</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/underthesea/dev/docs/next/technical-reports/agents"><span title="Agents" class="categoryLinkLabel_W154">Agents</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/underthesea/dev/docs/next/technical-reports/agents"><span title="Agents" class="linkLabel_WmDU">Agents</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/underthesea/dev/docs/next/technical-reports/agents/tools"><span title="Default Tools Reference" class="linkLabel_WmDU">Default Tools Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/underthesea/dev/docs/next/technical-reports/agents/comparison"><span title="Agent Frameworks Comparison (2025)" class="linkLabel_WmDU">Agent Frameworks Comparison (2025)</span></a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Underthesea<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/underthesea/dev/docs/technical-reports/agents">latest version</a></b> (<!-- -->9.2<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/underthesea/dev/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Technical Reports</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Agents</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Agents</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Agents</h1></header>
<p>This document provides a technical overview of the agent module in underthesea, including architecture, tools, and comparison with other popular agent frameworks.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>The agent module provides conversational AI capabilities with support for:</p>
<ol>
<li class=""><strong>Simple Agent</strong> (<code>agent</code>): Singleton instance for quick conversational AI</li>
<li class=""><strong>Custom Agent</strong> (<code>Agent</code>): Class-based agent with custom tools support</li>
<li class=""><strong>Tool System</strong> (<code>Tool</code>): Function-to-tool wrapper with OpenAI function calling</li>
<li class=""><strong>LLM Client</strong> (<code>LLM</code>): Provider-agnostic LLM client (OpenAI, Azure OpenAI)</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">User Message → [Agent] → [LLM] → Tool Calls? → [Tool Execution] → Response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  ↑                    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  └── History ←────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation" translate="no">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;underthesea[agent]&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set API key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OPENAI_API_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;sk-...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Or for Azure OpenAI:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AZURE_OPENAI_API_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AZURE_OPENAI_ENDPOINT</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;https://xxx.openai.azure.com&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="module-structure">Module Structure<a href="#module-structure" class="hash-link" aria-label="Direct link to Module Structure" title="Direct link to Module Structure" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">underthesea/agent/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── __init__.py          # Exports: agent, Agent, Tool, LLM, default_tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── agent.py             # _AgentInstance (singleton) and Agent class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── llm.py               # LLM client for OpenAI/Azure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── tools.py             # Tool class for function wrapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── default_tools.py     # Pre-built utility tools</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="component-diagram">Component Diagram<a href="#component-diagram" class="hash-link" aria-label="Direct link to Component Diagram" title="Direct link to Component Diagram" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                        Agent                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────────┐ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   LLM    │  │  Tools   │  │ History  │  │ Instruction │ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ (client) │  │  (list)  │  │  (list)  │  │   (str)     │ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └─────────────┘ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       │             │             │                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ▼             ▼             ▼                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │                    __call__()                         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  1. Add user message to history                       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  2. If tools: _call_with_tools()                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │     - Loop: LLM → Tool calls? → Execute → Repeat      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  3. Else: Simple chat completion                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  4. Add assistant response to history                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └──────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-components">Core Components<a href="#core-components" class="hash-link" aria-label="Direct link to Core Components" title="Direct link to Core Components" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-llm-client">1. LLM Client<a href="#1-llm-client" class="hash-link" aria-label="Direct link to 1. LLM Client" title="Direct link to 1. LLM Client" translate="no">​</a></h3>
<p>The <code>LLM</code> class provides a unified interface for OpenAI and Azure OpenAI.</p>
<p><strong>Provider Detection:</strong></p>
<table><thead><tr><th>Priority</th><th>Condition</th><th>Provider</th></tr></thead><tbody><tr><td>1</td><td><code>AZURE_OPENAI_API_KEY</code> + <code>AZURE_OPENAI_ENDPOINT</code> set</td><td>Azure</td></tr><tr><td>2</td><td><code>OPENAI_API_KEY</code> set</td><td>OpenAI</td></tr><tr><td>3</td><td>Neither set</td><td>Error</td></tr></tbody></table>
<p><strong>Parameters:</strong></p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>provider</code></td><td><code>str</code></td><td>Auto-detect</td><td><code>&quot;openai&quot;</code> or <code>&quot;azure&quot;</code></td></tr><tr><td><code>model</code></td><td><code>str</code></td><td><code>gpt-4o-mini</code></td><td>Model/deployment name</td></tr><tr><td><code>api_key</code></td><td><code>str</code></td><td>From env</td><td>API key</td></tr><tr><td><code>azure_endpoint</code></td><td><code>str</code></td><td>From env</td><td>Azure endpoint URL</td></tr><tr><td><code>azure_api_version</code></td><td><code>str</code></td><td><code>2024-02-01</code></td><td>Azure API version</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-tool-class">2. Tool Class<a href="#2-tool-class" class="hash-link" aria-label="Direct link to 2. Tool Class" title="Direct link to 2. Tool Class" translate="no">​</a></h3>
<p>The <code>Tool</code> class wraps Python functions for OpenAI function calling.</p>
<p><strong>Automatic Schema Extraction:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_weather</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;celsius&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">dict</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Get weather for a location.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;temp&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;unit&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> unit</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">get_weather</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Extracts:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - name: &quot;get_weather&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - description: &quot;Get weather for a location.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - parameters: {&quot;location&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;required&quot;: true},</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#                &quot;unit&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;required&quot;: false}}</span><br></span></code></pre></div></div>
<p><strong>Type Mapping:</strong></p>
<table><thead><tr><th>Python Type</th><th>JSON Schema Type</th></tr></thead><tbody><tr><td><code>str</code></td><td><code>string</code></td></tr><tr><td><code>int</code></td><td><code>integer</code></td></tr><tr><td><code>float</code></td><td><code>number</code></td></tr><tr><td><code>bool</code></td><td><code>boolean</code></td></tr><tr><td><code>list</code></td><td><code>array</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-agent-class">3. Agent Class<a href="#3-agent-class" class="hash-link" aria-label="Direct link to 3. Agent Class" title="Direct link to 3. Agent Class" translate="no">​</a></h3>
<p>The <code>Agent</code> class supports custom tools via OpenAI function calling.</p>
<p><strong>Constructor:</strong></p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>str</code></td><td>Required</td><td>Agent identifier</td></tr><tr><td><code>tools</code></td><td><code>list[Tool]</code></td><td><code>[]</code></td><td>Available tools</td></tr><tr><td><code>instruction</code></td><td><code>str</code></td><td><code>&quot;You are a helpful assistant.&quot;</code></td><td>System prompt</td></tr><tr><td><code>max_iterations</code></td><td><code>int</code></td><td><code>10</code></td><td>Max tool calling loops</td></tr></tbody></table>
<p><strong>Tool Calling Flow:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. User sends message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Agent builds messages: [system, ...history, user]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Send to LLM with tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. If LLM returns tool_calls:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   a. Execute each tool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   b. Add tool results to messages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   c. Go to step 3 (repeat until no tool calls or max_iterations)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Return final assistant message</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="default-tools">Default Tools<a href="#default-tools" class="hash-link" aria-label="Direct link to Default Tools" title="Direct link to Default Tools" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tool-collections">Tool Collections<a href="#tool-collections" class="hash-link" aria-label="Direct link to Tool Collections" title="Direct link to Tool Collections" translate="no">​</a></h3>
<table><thead><tr><th>Collection</th><th>Count</th><th>Description</th></tr></thead><tbody><tr><td><code>default_tools</code></td><td>12</td><td>All default tools</td></tr><tr><td><code>core_tools</code></td><td>4</td><td>Safe utilities (no external calls)</td></tr><tr><td><code>web_tools</code></td><td>3</td><td>Web/network operations</td></tr><tr><td><code>system_tools</code></td><td>5</td><td>File and system operations</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-tools">Core Tools<a href="#core-tools" class="hash-link" aria-label="Direct link to Core Tools" title="Direct link to Core Tools" translate="no">​</a></h3>
<table><thead><tr><th>Tool</th><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>current_datetime_tool</code></td><td><code>get_current_datetime()</code></td><td>Returns date, time, weekday, timestamp</td></tr><tr><td><code>calculator_tool</code></td><td><code>calculator(expression)</code></td><td>Evaluates math (sqrt, sin, cos, log, pi, e)</td></tr><tr><td><code>string_length_tool</code></td><td><code>string_length(text)</code></td><td>Counts characters, words, lines</td></tr><tr><td><code>json_parse_tool</code></td><td><code>parse_json(json_string)</code></td><td>Parses JSON strings</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="web-tools">Web Tools<a href="#web-tools" class="hash-link" aria-label="Direct link to Web Tools" title="Direct link to Web Tools" translate="no">​</a></h3>
<table><thead><tr><th>Tool</th><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>web_search_tool</code></td><td><code>web_search(query)</code></td><td>DuckDuckGo search (no API key)</td></tr><tr><td><code>fetch_url_tool</code></td><td><code>fetch_url(url)</code></td><td>Fetch URL content</td></tr><tr><td><code>wikipedia_tool</code></td><td><code>wikipedia(query, lang)</code></td><td>Wikipedia search (vi/en)</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-tools">System Tools<a href="#system-tools" class="hash-link" aria-label="Direct link to System Tools" title="Direct link to System Tools" translate="no">​</a></h3>
<table><thead><tr><th>Tool</th><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>read_file_tool</code></td><td><code>read_file(path)</code></td><td>Read file content</td></tr><tr><td><code>write_file_tool</code></td><td><code>write_file(path, content)</code></td><td>Write to file</td></tr><tr><td><code>list_directory_tool</code></td><td><code>list_directory(path)</code></td><td>List files/directories</td></tr><tr><td><code>shell_tool</code></td><td><code>run_shell(command)</code></td><td>Execute shell command</td></tr><tr><td><code>python_tool</code></td><td><code>run_python(code)</code></td><td>Execute Python code</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage-examples">Usage Examples<a href="#usage-examples" class="hash-link" aria-label="Direct link to Usage Examples" title="Direct link to Usage Examples" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="simple-agent-singleton">Simple Agent (Singleton)<a href="#simple-agent-singleton" class="hash-link" aria-label="Direct link to Simple Agent (Singleton)" title="Direct link to Simple Agent (Singleton)" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> underthesea </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Basic conversation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Xin chào!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># With custom system prompt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;NLP là gì?&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> system_prompt</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Bạn là chuyên gia NLP&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Check history</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">history</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Reset conversation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-agent-with-tools">Custom Agent with Tools<a href="#custom-agent-with-tools" class="hash-link" aria-label="Direct link to Custom Agent with Tools" title="Direct link to Custom Agent with Tools" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> underthesea</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agent </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Tool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">search_database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Search internal database.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Result for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">query</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">send_email</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">to</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> subject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> body</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">dict</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Send an email.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sent&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;to&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> to</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;assistant&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tools</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">search_database</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">send_email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Send email to user&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instruction</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;You are a helpful office assistant.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Find documents about AI and email the results to john@example.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-default-tools">Using Default Tools<a href="#using-default-tools" class="hash-link" aria-label="Direct link to Using Default Tools" title="Direct link to Using Default Tools" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> underthesea</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agent </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default_tools</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> core_tools</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> web_tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># All tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">full_agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;full&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tools</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">default_tools</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Safe agent (no system access)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">safe_agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;safe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tools</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">core_tools</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Web-enabled agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">web_agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;web&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tools</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">core_tools </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> web_tools</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> full_agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;What time is it and what&#x27;s the weather in Hanoi?&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="direct-tool-usage">Direct Tool Usage<a href="#direct-tool-usage" class="hash-link" aria-label="Direct link to Direct Tool Usage" title="Direct link to Direct Tool Usage" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> underthesea</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agent </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> calculator_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wikipedia_tool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use tools without LLM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> calculator_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expression</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;sqrt(144) + 2**10&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&#x27;expression&#x27;: &#x27;...&#x27;, &#x27;result&#x27;: 1036.0}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wiki </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> wikipedia_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Hà Nội&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lang</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;vi&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">wiki</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;summary&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="comparison-with-other-frameworks">Comparison with Other Frameworks<a href="#comparison-with-other-frameworks" class="hash-link" aria-label="Direct link to Comparison with Other Frameworks" title="Direct link to Comparison with Other Frameworks" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="feature-comparison">Feature Comparison<a href="#feature-comparison" class="hash-link" aria-label="Direct link to Feature Comparison" title="Direct link to Feature Comparison" translate="no">​</a></h3>
<table><thead><tr><th>Feature</th><th>underthesea</th><th>LangChain</th><th>OpenAI SDK</th><th>CrewAI</th><th>Phidata</th></tr></thead><tbody><tr><td><strong>Setup Complexity</strong></td><td>Low</td><td>Medium</td><td>Low</td><td>Medium</td><td>Low</td></tr><tr><td><strong>Tool Definition</strong></td><td>Function + decorator</td><td>Class-based</td><td>Function</td><td>Class-based</td><td>Toolkit</td></tr><tr><td><strong>Multi-agent</strong></td><td>Manual</td><td>LangGraph</td><td>Built-in</td><td>Built-in</td><td>Built-in</td></tr><tr><td><strong>Memory</strong></td><td>In-memory</td><td>Multiple</td><td>Session</td><td>Built-in</td><td>Built-in</td></tr><tr><td><strong>MCP Support</strong></td><td>No</td><td>Yes</td><td>Yes</td><td>No</td><td>Yes</td></tr><tr><td><strong>Providers</strong></td><td>OpenAI, Azure</td><td>100+</td><td>OpenAI</td><td>OpenAI+</td><td>50+</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tool-count-comparison">Tool Count Comparison<a href="#tool-count-comparison" class="hash-link" aria-label="Direct link to Tool Count Comparison" title="Direct link to Tool Count Comparison" translate="no">​</a></h3>
<table><thead><tr><th>Framework</th><th>Built-in Tools</th><th>Tool Categories</th></tr></thead><tbody><tr><td><strong>underthesea</strong></td><td>12</td><td>Core, Web, System</td></tr><tr><td>LangChain</td><td>50+</td><td>Search, Code, API, DB</td></tr><tr><td>OpenAI SDK</td><td>5 hosted + local</td><td>Search, File, Code, Computer</td></tr><tr><td>CrewAI</td><td>30+</td><td>File, Web, Search, Document</td></tr><tr><td>Phidata/Agno</td><td>45+</td><td>Search, Finance, News, DB, Media</td></tr><tr><td>smolagents</td><td>10</td><td>Search, Web, Code, Speech</td></tr><tr><td>Pydantic AI</td><td>7</td><td>Search, Code, Image, Memory</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-philosophy">Design Philosophy<a href="#design-philosophy" class="hash-link" aria-label="Direct link to Design Philosophy" title="Direct link to Design Philosophy" translate="no">​</a></h3>
<table><thead><tr><th>Framework</th><th>Philosophy</th></tr></thead><tbody><tr><td><strong>underthesea</strong></td><td>Simple, Vietnamese NLP focused, minimal dependencies</td></tr><tr><td>LangChain</td><td>Comprehensive, composable chains, large ecosystem</td></tr><tr><td>OpenAI SDK</td><td>Official, production-ready, OpenAI optimized</td></tr><tr><td>CrewAI</td><td>Role-based multi-agent collaboration</td></tr><tr><td>Phidata</td><td>Performance-focused, 45+ pre-built toolkits</td></tr><tr><td>smolagents</td><td>Lightweight, HuggingFace integration</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-considerations">Performance Considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="latency-sources">Latency Sources<a href="#latency-sources" class="hash-link" aria-label="Direct link to Latency Sources" title="Direct link to Latency Sources" translate="no">​</a></h3>
<table><thead><tr><th>Source</th><th>Typical Time</th><th>Notes</th></tr></thead><tbody><tr><td>LLM API call</td><td>500ms - 5s</td><td>Depends on model and prompt length</td></tr><tr><td>Tool execution</td><td>Variable</td><td>Depends on tool (web search ~1s)</td></tr><tr><td>First call</td><td>+2-5s</td><td>Client initialization</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h3>
<ol>
<li class=""><strong>Reuse Agent Instances</strong>: Avoid creating new agents per request</li>
<li class=""><strong>Limit Tools</strong>: Only include necessary tools (reduces prompt size)</li>
<li class=""><strong>Set max_iterations</strong>: Prevent infinite tool loops</li>
<li class=""><strong>Use core_tools for Safety</strong>: Avoid system tools in production</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-usage">Memory Usage<a href="#memory-usage" class="hash-link" aria-label="Direct link to Memory Usage" title="Direct link to Memory Usage" translate="no">​</a></h3>
<table><thead><tr><th>Component</th><th>Memory</th></tr></thead><tbody><tr><td>Agent instance</td><td>~1KB</td></tr><tr><td>LLM client</td><td>~5KB</td></tr><tr><td>Per tool</td><td>~500B</td></tr><tr><td>History (per message)</td><td>~1KB</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-considerations">Security Considerations<a href="#security-considerations" class="hash-link" aria-label="Direct link to Security Considerations" title="Direct link to Security Considerations" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tool-safety-levels">Tool Safety Levels<a href="#tool-safety-levels" class="hash-link" aria-label="Direct link to Tool Safety Levels" title="Direct link to Tool Safety Levels" translate="no">​</a></h3>
<table><thead><tr><th>Level</th><th>Tools</th><th>Risk</th></tr></thead><tbody><tr><td><strong>Safe</strong></td><td><code>core_tools</code></td><td>No external access</td></tr><tr><td><strong>Network</strong></td><td><code>web_tools</code></td><td>HTTP requests only</td></tr><tr><td><strong>System</strong></td><td><code>system_tools</code></td><td>File/shell access</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommendations">Recommendations<a href="#recommendations" class="hash-link" aria-label="Direct link to Recommendations" title="Direct link to Recommendations" translate="no">​</a></h3>
<ol>
<li class=""><strong>Production</strong>: Use only <code>core_tools</code> unless necessary</li>
<li class=""><strong>Shell Tool</strong>: Blocks dangerous commands (rm -rf, mkfs, etc.)</li>
<li class=""><strong>Python Tool</strong>: Runs in restricted globals</li>
<li class=""><strong>File Tools</strong>: Validate paths before use</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="blocked-shell-commands">Blocked Shell Commands<a href="#blocked-shell-commands" class="hash-link" aria-label="Direct link to Blocked Shell Commands" title="Direct link to Blocked Shell Commands" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dangerous </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;rm -rf&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mkfs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dd if=&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;:(){&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fork bomb&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt; /dev/&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="api-reference">API Reference<a href="#api-reference" class="hash-link" aria-label="Direct link to API Reference" title="Direct link to API Reference" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="module-exports">Module Exports<a href="#module-exports" class="hash-link" aria-label="Direct link to Module Exports" title="Direct link to Module Exports" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> underthesea</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agent </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Core</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic"># Singleton agent instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Agent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic"># Agent class with tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LLM</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># LLM client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic"># Function-to-tool wrapper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Tool collections</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default_tools</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># All 12 tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    core_tools</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic"># 4 safe tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    web_tools</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic"># 3 web tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    system_tools</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># 5 system tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Individual tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    current_datetime_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    calculator_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string_length_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    json_parse_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    web_search_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fetch_url_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wikipedia_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    read_file_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    write_file_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_directory_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shell_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    python_tool</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing" translate="no">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Run all agent tests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv run python </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> unittest discover tests.agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run specific test modules</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv run python </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> unittest tests.agent.test_agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv run python </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> unittest tests.agent.test_tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv run python </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> unittest tests.agent.test_llm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Lint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ruff check underthesea/agent/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="changelog">Changelog<a href="#changelog" class="hash-link" aria-label="Direct link to Changelog" title="Direct link to Changelog" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unreleased">Unreleased<a href="#unreleased" class="hash-link" aria-label="Direct link to Unreleased" title="Direct link to Unreleased" translate="no">​</a></h3>
<ul>
<li class="">Add <code>Agent</code> class with custom tools support (GH-712)</li>
<li class="">Add <code>Tool</code> class for function wrapping</li>
<li class="">Add 12 default tools: calculator, datetime, web_search, wikipedia, shell, python, file operations</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="v915-2026-01-29">v9.1.5 (2026-01-29)<a href="#v915-2026-01-29" class="hash-link" aria-label="Direct link to v9.1.5 (2026-01-29)" title="Direct link to v9.1.5 (2026-01-29)" translate="no">​</a></h3>
<ul>
<li class="">Add <code>agent</code> singleton and <code>LLM</code> client (GH-745)</li>
<li class="">Support OpenAI and Azure OpenAI providers</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="openai-function-calling">OpenAI Function Calling<a href="#openai-function-calling" class="hash-link" aria-label="Direct link to OpenAI Function Calling" title="Direct link to OpenAI Function Calling" translate="no">​</a></h3>
<ul>
<li class=""><a href="https://platform.openai.com/docs/guides/function-calling" target="_blank" rel="noopener noreferrer" class="">OpenAI Function Calling Guide</a></li>
<li class=""><a href="https://platform.openai.com/docs/api-reference/chat/create#chat-create-tools" target="_blank" rel="noopener noreferrer" class="">OpenAI Tools API Reference</a></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="popular-agent-frameworks">Popular Agent Frameworks<a href="#popular-agent-frameworks" class="hash-link" aria-label="Direct link to Popular Agent Frameworks" title="Direct link to Popular Agent Frameworks" translate="no">​</a></h3>
<ul>
<li class=""><a href="https://python.langchain.com/" target="_blank" rel="noopener noreferrer" class="">LangChain</a> - Comprehensive AI application framework</li>
<li class=""><a href="https://openai.github.io/openai-agents-python/" target="_blank" rel="noopener noreferrer" class="">OpenAI Agents SDK</a> - Official OpenAI agent framework</li>
<li class=""><a href="https://docs.crewai.com/" target="_blank" rel="noopener noreferrer" class="">CrewAI</a> - Role-based multi-agent framework</li>
<li class=""><a href="https://docs.phidata.com/" target="_blank" rel="noopener noreferrer" class="">Phidata/Agno</a> - High-performance agent framework</li>
<li class=""><a href="https://huggingface.co/docs/smolagents/" target="_blank" rel="noopener noreferrer" class="">smolagents</a> - Lightweight HuggingFace agents</li>
<li class=""><a href="https://ai.pydantic.dev/" target="_blank" rel="noopener noreferrer" class="">Pydantic AI</a> - Type-safe agent framework</li>
<li class=""><a href="https://google.github.io/adk-docs/" target="_blank" rel="noopener noreferrer" class="">Google ADK</a> - Google&#x27;s Agent Development Kit</li>
<li class=""><a href="https://strandsagents.com/" target="_blank" rel="noopener noreferrer" class="">AWS Strands</a> - AWS agent SDK</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-documentation">Related Documentation<a href="#related-documentation" class="hash-link" aria-label="Direct link to Related Documentation" title="Direct link to Related Documentation" translate="no">​</a></h3>
<ul>
<li class=""><a class="" href="/underthesea/dev/docs/next/api/agent">underthesea Agent API</a></li>
<li class=""><a href="https://github.com/undertheseanlp/underthesea/issues/712" target="_blank" rel="noopener noreferrer" class="">Issue GH-712: Agents with LLMs</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/undertheseanlp/underthesea/tree/main/docusaurus/docs/technical-reports/agents/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/underthesea/dev/docs/next/technical-reports/audio/text-to-speech"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Voice</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/underthesea/dev/docs/next/technical-reports/agents/tools"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Default Tools Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#module-structure" class="table-of-contents__link toc-highlight">Module Structure</a></li><li><a href="#component-diagram" class="table-of-contents__link toc-highlight">Component Diagram</a></li></ul></li><li><a href="#core-components" class="table-of-contents__link toc-highlight">Core Components</a><ul><li><a href="#1-llm-client" class="table-of-contents__link toc-highlight">1. LLM Client</a></li><li><a href="#2-tool-class" class="table-of-contents__link toc-highlight">2. Tool Class</a></li><li><a href="#3-agent-class" class="table-of-contents__link toc-highlight">3. Agent Class</a></li></ul></li><li><a href="#default-tools" class="table-of-contents__link toc-highlight">Default Tools</a><ul><li><a href="#tool-collections" class="table-of-contents__link toc-highlight">Tool Collections</a></li><li><a href="#core-tools" class="table-of-contents__link toc-highlight">Core Tools</a></li><li><a href="#web-tools" class="table-of-contents__link toc-highlight">Web Tools</a></li><li><a href="#system-tools" class="table-of-contents__link toc-highlight">System Tools</a></li></ul></li><li><a href="#usage-examples" class="table-of-contents__link toc-highlight">Usage Examples</a><ul><li><a href="#simple-agent-singleton" class="table-of-contents__link toc-highlight">Simple Agent (Singleton)</a></li><li><a href="#custom-agent-with-tools" class="table-of-contents__link toc-highlight">Custom Agent with Tools</a></li><li><a href="#using-default-tools" class="table-of-contents__link toc-highlight">Using Default Tools</a></li><li><a href="#direct-tool-usage" class="table-of-contents__link toc-highlight">Direct Tool Usage</a></li></ul></li><li><a href="#comparison-with-other-frameworks" class="table-of-contents__link toc-highlight">Comparison with Other Frameworks</a><ul><li><a href="#feature-comparison" class="table-of-contents__link toc-highlight">Feature Comparison</a></li><li><a href="#tool-count-comparison" class="table-of-contents__link toc-highlight">Tool Count Comparison</a></li><li><a href="#design-philosophy" class="table-of-contents__link toc-highlight">Design Philosophy</a></li></ul></li><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance Considerations</a><ul><li><a href="#latency-sources" class="table-of-contents__link toc-highlight">Latency Sources</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#memory-usage" class="table-of-contents__link toc-highlight">Memory Usage</a></li></ul></li><li><a href="#security-considerations" class="table-of-contents__link toc-highlight">Security Considerations</a><ul><li><a href="#tool-safety-levels" class="table-of-contents__link toc-highlight">Tool Safety Levels</a></li><li><a href="#recommendations" class="table-of-contents__link toc-highlight">Recommendations</a></li><li><a href="#blocked-shell-commands" class="table-of-contents__link toc-highlight">Blocked Shell Commands</a></li></ul></li><li><a href="#api-reference" class="table-of-contents__link toc-highlight">API Reference</a><ul><li><a href="#module-exports" class="table-of-contents__link toc-highlight">Module Exports</a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li><li><a href="#changelog" class="table-of-contents__link toc-highlight">Changelog</a><ul><li><a href="#unreleased" class="table-of-contents__link toc-highlight">Unreleased</a></li><li><a href="#v915-2026-01-29" class="table-of-contents__link toc-highlight">v9.1.5 (2026-01-29)</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a><ul><li><a href="#openai-function-calling" class="table-of-contents__link toc-highlight">OpenAI Function Calling</a></li><li><a href="#popular-agent-frameworks" class="table-of-contents__link toc-highlight">Popular Agent Frameworks</a></li><li><a href="#related-documentation" class="table-of-contents__link toc-highlight">Related Documentation</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Install</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/underthesea/dev/docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/underthesea/dev/docs/api">API</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.facebook.com/undertheseanlp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC9Jv1Qg49uprg6SjkyAqs9A" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/underthesea/dev/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/undertheseanlp/underthesea" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://colab.research.google.com/drive/1gD8dSMSE_uNacW4qJ-NSnvRT85xo9ZY2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Colab<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2018 - 2026 Underthesea. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>