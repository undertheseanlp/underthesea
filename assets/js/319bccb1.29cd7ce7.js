"use strict";(globalThis.webpackChunkunderthesea_docs=globalThis.webpackChunkunderthesea_docs||[]).push([[7115],{8011(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>x,frontMatter:()=>t,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"technical-reports/nlp/tagging","title":"Tagging","description":"Overview","source":"@site/docs/technical-reports/nlp/tagging.md","sourceDirName":"technical-reports/nlp","slug":"/technical-reports/nlp/tagging","permalink":"/underthesea/docs/next/technical-reports/nlp/tagging","draft":false,"unlisted":false,"editUrl":"https://github.com/undertheseanlp/underthesea/tree/main/docusaurus/docs/technical-reports/nlp/tagging.md","tags":[],"version":"current","frontMatter":{},"sidebar":"technicalReportsSidebar","previous":{"title":"Sentence Segmentation","permalink":"/underthesea/docs/next/technical-reports/sent-tokenize"},"next":{"title":"Named Entity Recognition","permalink":"/underthesea/docs/next/technical-reports/ner"}}');var i=r(4848),s=r(8453);const t={},c="Tagging",l={},h=[{value:"Overview",id:"overview",level:2},{value:"Word Tokenization",id:"word-tokenization",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Feature Engineering",id:"feature-engineering",level:3},{value:"Performance",id:"performance",level:3},{value:"Usage",id:"usage",level:3},{value:"Parameters",id:"parameters",level:3},{value:"POS Tagging",id:"pos-tagging",level:2},{value:"Architecture",id:"architecture-1",level:3},{value:"Training Configuration",id:"training-configuration",level:3},{value:"POS Tag Set",id:"pos-tag-set",level:3},{value:"Performance",id:"performance-1",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Parameters",id:"parameters-1",level:3},{value:"Chunking",id:"chunking",level:2},{value:"Architecture",id:"architecture-2",level:3},{value:"Chunk Tags",id:"chunk-tags",level:3},{value:"Usage",id:"usage-2",level:3},{value:"Parameters",id:"parameters-2",level:3},{value:"Dependency Parsing",id:"dependency-parsing",level:2},{value:"Architecture",id:"architecture-3",level:3},{value:"Default Hyperparameters",id:"default-hyperparameters",level:3},{value:"Performance",id:"performance-2",level:3},{value:"Dependency Relations",id:"dependency-relations",level:3},{value:"Usage",id:"usage-3",level:3},{value:"Visualization",id:"visualization",level:3},{value:"Training",id:"training",level:3},{value:"References",id:"references",level:2},{value:"Changelog",id:"changelog",level:2},{value:"Version 9.1.3 (PR #871)",id:"version-913-pr-871",level:3},{value:"Version 6.6.0",id:"version-660",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"tagging",children:"Tagging"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["This report covers four sequence labeling pipelines in Underthesea: ",(0,i.jsx)(n.strong,{children:"Word Tokenization"}),", ",(0,i.jsx)(n.strong,{children:"POS Tagging"}),", ",(0,i.jsx)(n.strong,{children:"Chunking"}),", and ",(0,i.jsx)(n.strong,{children:"Dependency Parsing"}),". These pipelines form the core syntactic analysis chain for Vietnamese text."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Vietnamese Text\n  \u2192 Word Tokenization (CRF)\n    \u2192 POS Tagging (CRF)\n      \u2192 Chunking (CRF)\n      \u2192 Dependency Parsing (Biaffine Neural Parser)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"word-tokenization",children:"Word Tokenization"}),"\n",(0,i.jsx)(n.p,{children:'The word tokenization module performs Vietnamese word segmentation using a Conditional Random Field (CRF) model. Vietnamese word segmentation is challenging because spaces don\'t always indicate word boundaries \u2014 multi-syllable words like "Vi\u1ec7t Nam" or "kh\u1edfi nghi\u1ec7p" are written with spaces between syllables.'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Author:"})," Vu Anh\n",(0,i.jsx)(n.strong,{children:"Model:"})," CRF trained on VLSP2013 dataset (checkpoint: ",(0,i.jsx)(n.code,{children:"20230727"}),")\n",(0,i.jsx)(n.strong,{children:"Integrated since:"})," underthesea v6.6.0"]}),"\n",(0,i.jsx)(n.h3,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Word Tokenization Pipeline\n\u251c\u2500\u2500 Text Input\n\u2502   \u2514\u2500\u2500 Raw Vietnamese text\n\u251c\u2500\u2500 Regex Tokenization\n\u2502   \u2514\u2500\u2500 Split by whitespace and punctuation\n\u251c\u2500\u2500 Feature Extraction\n\u2502   \u251c\u2500\u2500 Unigram features: T[-2], T[-1], T[0], T[1], T[2]\n\u2502   \u251c\u2500\u2500 Bigram features: T[-2,-1], T[-1,0], T[0,1], T[1,2]\n\u2502   \u251c\u2500\u2500 Lowercase features\n\u2502   \u251c\u2500\u2500 Case features (isTitle, isDigit)\n\u2502   \u2514\u2500\u2500 Dictionary features (is_in_dict)\n\u251c\u2500\u2500 CRF Model (FastCRFSequenceTagger)\n\u2502   \u2514\u2500\u2500 BIO sequence labeling\n\u2514\u2500\u2500 Output\n    \u2514\u2500\u2500 List of segmented words\n"})}),"\n",(0,i.jsx)(n.h3,{id:"feature-engineering",children:"Feature Engineering"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature Type"}),(0,i.jsx)(n.th,{children:"Features"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Unigram"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"T[-2]"}),", ",(0,i.jsx)(n.code,{children:"T[-1]"}),", ",(0,i.jsx)(n.code,{children:"T[0]"}),", ",(0,i.jsx)(n.code,{children:"T[1]"}),", ",(0,i.jsx)(n.code,{children:"T[2]"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Bigram"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"T[-2,-1]"}),", ",(0,i.jsx)(n.code,{children:"T[-1,0]"}),", ",(0,i.jsx)(n.code,{children:"T[0,1]"}),", ",(0,i.jsx)(n.code,{children:"T[1,2]"}),", ",(0,i.jsx)(n.code,{children:"T[-2,0]"}),", ",(0,i.jsx)(n.code,{children:"T[-1,1]"}),", ",(0,i.jsx)(n.code,{children:"T[0,2]"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Lowercase Unigram"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"T[-2].lower"}),", ",(0,i.jsx)(n.code,{children:"T[-1].lower"}),", ",(0,i.jsx)(n.code,{children:"T[0].lower"}),", ",(0,i.jsx)(n.code,{children:"T[1].lower"}),", ",(0,i.jsx)(n.code,{children:"T[2].lower"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Lowercase Bigram"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"T[-2,-1].lower"}),", ",(0,i.jsx)(n.code,{children:"T[-1,0].lower"}),", ",(0,i.jsx)(n.code,{children:"T[0,1].lower"}),", ",(0,i.jsx)(n.code,{children:"T[1,2].lower"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Is Digit"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"T[-1].isdigit"}),", ",(0,i.jsx)(n.code,{children:"T[0].isdigit"}),", ",(0,i.jsx)(n.code,{children:"T[1].isdigit"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Is Title"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"T[-2].istitle"}),", ",(0,i.jsx)(n.code,{children:"T[-1].istitle"}),", ",(0,i.jsx)(n.code,{children:"T[0].istitle"}),", ",(0,i.jsx)(n.code,{children:"T[1].istitle"}),", ",(0,i.jsx)(n.code,{children:"T[2].istitle"}),", ",(0,i.jsx)(n.code,{children:"T[0,1].istitle"}),", ",(0,i.jsx)(n.code,{children:"T[0,2].istitle"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Is in Dictionary"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"T[-2].is_in_dict"}),", ",(0,i.jsx)(n.code,{children:"T[-1].is_in_dict"}),", ",(0,i.jsx)(n.code,{children:"T[0].is_in_dict"}),", ",(0,i.jsx)(n.code,{children:"T[1].is_in_dict"}),", ",(0,i.jsx)(n.code,{children:"T[2].is_in_dict"}),", and bigram/trigram dictionary lookups"]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Dataset"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Model"}),(0,i.jsx)(n.th,{style:{textAlign:"right"},children:"F1 Score"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"UTS_WTK (1.0.0)"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"CRF"}),(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"0.977"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"VLSP2013_WTK"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"CRF"}),(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"0.973"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from underthesea import word_tokenize\n\ntext = "Ch\xe0ng trai 9X Qu\u1ea3ng Tr\u1ecb kh\u1edfi nghi\u1ec7p t\u1eeb n\u1ea5m s\xf2"\nwords = word_tokenize(text)\n# ["Ch\xe0ng trai", "9X", "Qu\u1ea3ng Tr\u1ecb", "kh\u1edfi nghi\u1ec7p", "t\u1eeb", "n\u1ea5m", "s\xf2"]\n\n# Text format output\nword_tokenize(text, format="text")\n# "Ch\xe0ng_trai 9X Qu\u1ea3ng_Tr\u1ecb kh\u1edfi_nghi\u1ec7p t\u1eeb n\u1ea5m s\xf2"\n\n# Fixed words\nword_tokenize("Sinh vi\xean \u0111\u1ea1i h\u1ecdc B\xe1ch Khoa", fixed_words=["\u0111\u1ea1i h\u1ecdc B\xe1ch Khoa"])\n# ["Sinh vi\xean", "\u0111\u1ea1i h\u1ecdc B\xe1ch Khoa"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sentence"})}),(0,i.jsx)(n.td,{children:"str"}),(0,i.jsx)(n.td,{children:"required"}),(0,i.jsx)(n.td,{children:"Text to tokenize"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"format"})}),(0,i.jsx)(n.td,{children:"str"}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsxs)(n.td,{children:["Output format \u2014 ",(0,i.jsx)(n.code,{children:"None"})," for list, ",(0,i.jsx)(n.code,{children:'"text"'})," for underscore-joined string"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"use_token_normalize"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:"True"}),(0,i.jsx)(n.td,{children:"Whether to normalize tokens"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_words"})}),(0,i.jsx)(n.td,{children:"list"}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Words that should not be split"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"pos-tagging",children:"POS Tagging"}),"\n",(0,i.jsx)(n.p,{children:"The POS tagging module provides Vietnamese Part-of-Speech tagging using the TRE-1 model, a CRF-based tagger trained on the Universal Dependencies Dataset (UDD-v0.1)."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Model:"})," ",(0,i.jsx)(n.a,{href:"https://huggingface.co/undertheseanlp/tre-1",children:"undertheseanlp/tre-1"}),"\n",(0,i.jsx)(n.strong,{children:"License:"})," Apache 2.0"]}),"\n",(0,i.jsx)(n.h3,{id:"architecture-1",children:"Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TRE-1 Pipeline\n\u251c\u2500\u2500 Text Input\n\u2502   \u2514\u2500\u2500 Pre-tokenized Vietnamese text\n\u251c\u2500\u2500 Feature Extraction\n\u2502   \u251c\u2500\u2500 Current Token Features\n\u2502   \u2502   \u251c\u2500\u2500 Word form, lowercase form\n\u2502   \u2502   \u251c\u2500\u2500 Prefix/suffix (2-3 chars)\n\u2502   \u2502   \u2514\u2500\u2500 Character type checks\n\u2502   \u251c\u2500\u2500 Context Features (previous/next 1-2 tokens)\n\u2502   \u251c\u2500\u2500 Bigram Features\n\u2502   \u2514\u2500\u2500 Dictionary Features\n\u251c\u2500\u2500 CRF Classification (python-crfsuite)\n\u2514\u2500\u2500 Output\n    \u2514\u2500\u2500 UPOS tags for each token\n"})}),"\n",(0,i.jsx)(n.h3,{id:"training-configuration",children:"Training Configuration"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Algorithm"}),(0,i.jsx)(n.td,{children:"CRF (python-crfsuite)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"L1 regularization (c1)"}),(0,i.jsx)(n.td,{children:"1.0"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"L2 regularization (c2)"}),(0,i.jsx)(n.td,{children:"1e-3"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Max iterations"}),(0,i.jsx)(n.td,{children:"100"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Training data"}),(0,i.jsx)(n.td,{children:"undertheseanlp/UDD-v0.1"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Tagset"}),(0,i.jsx)(n.td,{children:"Universal POS tags (UPOS)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"pos-tag-set",children:"POS Tag Set"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Tag"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"N"})}),(0,i.jsx)(n.td,{children:"Noun"}),(0,i.jsx)(n.td,{children:"ch\u1ee3, th\u1ecbt, ch\xf3"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Np"})}),(0,i.jsx)(n.td,{children:"Proper noun"}),(0,i.jsx)(n.td,{children:"S\xe0i G\xf2n, Vi\u1ec7t Nam"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"V"})}),(0,i.jsx)(n.td,{children:"Verb"}),(0,i.jsx)(n.td,{children:"b\u1ecb, truy qu\xe9t"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"A"})}),(0,i.jsx)(n.td,{children:"Adjective"}),(0,i.jsx)(n.td,{children:"n\u1ed5i ti\u1ebfng, \u0111\u1eb9p"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"P"})}),(0,i.jsx)(n.td,{children:"Pronoun"}),(0,i.jsx)(n.td,{children:"t\xf4i, b\u1ea1n, n\xf3"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"R"})}),(0,i.jsx)(n.td,{children:"Adverb"}),(0,i.jsx)(n.td,{children:"r\u1ea5t, \u0111ang, s\u1ebd"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"E"})}),(0,i.jsx)(n.td,{children:"Preposition"}),(0,i.jsx)(n.td,{children:"\u1edf, trong, tr\xean"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"C"})}),(0,i.jsx)(n.td,{children:"Conjunction"}),(0,i.jsx)(n.td,{children:"v\xe0, ho\u1eb7c, nh\u01b0ng"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"M"})}),(0,i.jsx)(n.td,{children:"Number"}),(0,i.jsx)(n.td,{children:"m\u1ed9t, hai, ba"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"L"})}),(0,i.jsx)(n.td,{children:"Determiner"}),(0,i.jsx)(n.td,{children:"c\xe1c, nh\u1eefng, m\u1ecdi"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"X"})}),(0,i.jsx)(n.td,{children:"Unknown"}),(0,i.jsx)(n.td,{children:"\u2014"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CH"})}),(0,i.jsx)(n.td,{children:"Punctuation"}),(0,i.jsx)(n.td,{children:". , ? !"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"performance-1",children:"Performance"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Metric"}),(0,i.jsx)(n.th,{children:"Score"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Accuracy"}),(0,i.jsx)(n.td,{children:"~94%"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"F1 (macro)"}),(0,i.jsx)(n.td,{children:"~90%"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"F1 (weighted)"}),(0,i.jsx)(n.td,{children:"~94%"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"usage-1",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from underthesea import pos_tag\n\ntext = \"Ch\u1ee3 th\u1ecbt ch\xf3 n\u1ed5i ti\u1ebfng \u1edf S\xe0i G\xf2n b\u1ecb truy qu\xe9t\"\ntagged = pos_tag(text)\n# [('Ch\u1ee3', 'N'), ('th\u1ecbt', 'N'), ('ch\xf3', 'N'), ('n\u1ed5i ti\u1ebfng', 'A'),\n#  ('\u1edf', 'E'), ('S\xe0i G\xf2n', 'Np'), ('b\u1ecb', 'V'), ('truy qu\xe9t', 'V')]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sentence"})}),(0,i.jsx)(n.td,{children:"str"}),(0,i.jsx)(n.td,{children:"required"}),(0,i.jsx)(n.td,{children:"Text to tag"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"format"})}),(0,i.jsx)(n.td,{children:"str"}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Output format"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"model"})}),(0,i.jsx)(n.td,{children:"str"}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Path to custom model"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"chunking",children:"Chunking"}),"\n",(0,i.jsx)(n.p,{children:"The chunking module performs shallow parsing for Vietnamese text, grouping words into meaningful phrases such as noun phrases (NP), verb phrases (VP), adjective phrases (AP), and prepositional phrases (PP). Chunking is built on top of word segmentation and POS tagging."}),"\n",(0,i.jsx)(n.h3,{id:"architecture-2",children:"Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Chunking Pipeline\n\u251c\u2500\u2500 Text Input\n\u2502   \u2514\u2500\u2500 Raw Vietnamese text\n\u251c\u2500\u2500 Word Tokenization\n\u2502   \u2514\u2500\u2500 word_tokenize()\n\u251c\u2500\u2500 POS Tagging\n\u2502   \u2514\u2500\u2500 pos_tag()\n\u251c\u2500\u2500 Feature Extraction\n\u2502   \u2514\u2500\u2500 Token + POS features\n\u251c\u2500\u2500 CRF Model\n\u2502   \u2514\u2500\u2500 BIO chunk labeling\n\u2514\u2500\u2500 Output\n    \u2514\u2500\u2500 List of (word, POS tag, chunk tag) tuples\n"})}),"\n",(0,i.jsx)(n.h3,{id:"chunk-tags",children:"Chunk Tags"}),"\n",(0,i.jsx)(n.p,{children:"The module uses BIO (Begin-Inside-Outside) tagging format:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Tag"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"B-NP"})}),(0,i.jsx)(n.td,{children:"Beginning of Noun Phrase"}),(0,i.jsx)(n.td,{children:"B\xe1c s\u0129, b\u1ec7nh nh\xe2n"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"I-NP"})}),(0,i.jsx)(n.td,{children:"Inside Noun Phrase"}),(0,i.jsx)(n.td,{children:"(continuation)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"B-VP"})}),(0,i.jsx)(n.td,{children:"Beginning of Verb Phrase"}),(0,i.jsx)(n.td,{children:"b\xe1o, b\u1ecb"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"I-VP"})}),(0,i.jsx)(n.td,{children:"Inside Verb Phrase"}),(0,i.jsx)(n.td,{children:"(continuation)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"B-AP"})}),(0,i.jsx)(n.td,{children:"Beginning of Adjective Phrase"}),(0,i.jsx)(n.td,{children:"th\u1ea3n nhi\xean"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"I-AP"})}),(0,i.jsx)(n.td,{children:"Inside Adjective Phrase"}),(0,i.jsx)(n.td,{children:"(continuation)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"B-PP"})}),(0,i.jsx)(n.td,{children:"Beginning of Prepositional Phrase"}),(0,i.jsx)(n.td,{children:"\u1edf, trong"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"I-PP"})}),(0,i.jsx)(n.td,{children:"Inside Prepositional Phrase"}),(0,i.jsx)(n.td,{children:"(continuation)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"O"})}),(0,i.jsx)(n.td,{children:"Outside any chunk"}),(0,i.jsx)(n.td,{children:"\u2014"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"usage-2",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from underthesea import chunk\n\ntext = \"B\xe1c s\u0129 b\xe2y gi\u1edd c\xf3 th\u1ec3 th\u1ea3n nhi\xean b\xe1o tin b\u1ec7nh nh\xe2n b\u1ecb ung th\u01b0?\"\nresult = chunk(text)\n# [('B\xe1c s\u0129', 'N', 'B-NP'),\n#  ('b\xe2y gi\u1edd', 'P', 'B-NP'),\n#  ('th\u1ea3n nhi\xean', 'A', 'B-AP'),\n#  ('b\xe1o', 'V', 'B-VP'),\n#  ('b\u1ec7nh nh\xe2n', 'N', 'B-NP'),\n#  ('b\u1ecb', 'V', 'B-VP'),\n#  ('ung th\u01b0', 'N', 'B-NP')]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"parameters-2",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sentence"})}),(0,i.jsx)(n.td,{children:"str"}),(0,i.jsx)(n.td,{children:"required"}),(0,i.jsx)(n.td,{children:"Text to chunk"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"format"})}),(0,i.jsx)(n.td,{children:"str"}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Output format"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"dependency-parsing",children:"Dependency Parsing"}),"\n",(0,i.jsx)(n.p,{children:"The dependency parsing module provides Vietnamese dependency parsing using a Biaffine Neural Dependency Parser based on the architecture proposed by Dozat and Manning (2017)."}),"\n",(0,i.jsx)(n.h3,{id:"architecture-3",children:"Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DependencyParser\n\u251c\u2500\u2500 Embeddings\n\u2502   \u251c\u2500\u2500 word_embed: nn.Embedding\n\u2502   \u251c\u2500\u2500 feat_embed: CharLSTM | BertEmbedding | nn.Embedding\n\u2502   \u2514\u2500\u2500 embed_dropout: IndependentDropout\n\u251c\u2500\u2500 Encoder\n\u2502   \u251c\u2500\u2500 lstm: BiLSTM (3-layer bidirectional)\n\u2502   \u2514\u2500\u2500 lstm_dropout: SharedDropout\n\u251c\u2500\u2500 MLP Layers\n\u2502   \u251c\u2500\u2500 mlp_arc_d/h: MLP (arc head/dependent)\n\u2502   \u2514\u2500\u2500 mlp_rel_d/h: MLP (relation head/dependent)\n\u2514\u2500\u2500 Biaffine Attention\n    \u251c\u2500\u2500 arc_attn: Biaffine (arc scoring)\n    \u2514\u2500\u2500 rel_attn: Biaffine (relation scoring)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"default-hyperparameters",children:"Default Hyperparameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Value"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n_embed"}),(0,i.jsx)(n.td,{children:"50"}),(0,i.jsx)(n.td,{children:"Word embedding dimension"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n_feat_embed"}),(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"Feature embedding dimension"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n_char_embed"}),(0,i.jsx)(n.td,{children:"50"}),(0,i.jsx)(n.td,{children:"Character embedding dimension"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n_lstm_hidden"}),(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"BiLSTM hidden size"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n_lstm_layers"}),(0,i.jsx)(n.td,{children:"3"}),(0,i.jsx)(n.td,{children:"Number of BiLSTM layers"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n_mlp_arc"}),(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:"Arc MLP output size"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n_mlp_rel"}),(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"Relation MLP output size"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"embed_dropout"}),(0,i.jsx)(n.td,{children:"0.33"}),(0,i.jsx)(n.td,{children:"Embedding dropout"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"lstm_dropout"}),(0,i.jsx)(n.td,{children:"0.33"}),(0,i.jsx)(n.td,{children:"LSTM dropout"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"mlp_dropout"}),(0,i.jsx)(n.td,{children:"0.33"}),(0,i.jsx)(n.td,{children:"MLP dropout"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"performance-2",children:"Performance"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Model"}),(0,i.jsx)(n.th,{children:"UAS"}),(0,i.jsx)(n.th,{children:"LAS"}),(0,i.jsx)(n.th,{children:"UCM"}),(0,i.jsx)(n.th,{children:"LCM"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MaltParser (baseline)"}),(0,i.jsx)(n.td,{children:"75.41%"}),(0,i.jsx)(n.td,{children:"66.11%"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Biaffine Attention (v1)"}),(0,i.jsx)(n.td,{children:"87.28%"}),(0,i.jsx)(n.td,{children:"72.63%"}),(0,i.jsx)(n.td,{children:"30.67%"}),(0,i.jsx)(n.td,{children:"6.98%"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"vi-dp-v1a1 (current)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"87.10%"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"80.00%"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Metric"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"UAS"})}),(0,i.jsx)(n.td,{children:"Unlabeled Attachment Score \u2014 % tokens with correct head"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"LAS"})}),(0,i.jsx)(n.td,{children:"Labeled Attachment Score \u2014 % tokens with correct head AND relation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"UCM"})}),(0,i.jsx)(n.td,{children:"Unlabeled Complete Match \u2014 % sentences with ALL heads correct"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"LCM"})}),(0,i.jsx)(n.td,{children:"Labeled Complete Match \u2014 % sentences with ALL heads and labels correct"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"dependency-relations",children:"Dependency Relations"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Relation"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"root"}),(0,i.jsx)(n.td,{children:"Root of sentence"}),(0,i.jsx)(n.td,{children:"Main verb"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"nsubj"}),(0,i.jsx)(n.td,{children:"Nominal subject"}),(0,i.jsx)(n.td,{children:"T\xf4i \u2192 \u0103n"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"obj"}),(0,i.jsx)(n.td,{children:"Direct object"}),(0,i.jsx)(n.td,{children:"c\u01a1m \u2190 \u0103n"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"cop"}),(0,i.jsx)(n.td,{children:"Copula"}),(0,i.jsx)(n.td,{children:"l\xe0 \u2192 noun"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"compound"}),(0,i.jsx)(n.td,{children:"Compound"}),(0,i.jsx)(n.td,{children:"Vi\u1ec7t Nam \u2190 sinh vi\xean"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"nmod"}),(0,i.jsx)(n.td,{children:"Nominal modifier"}),(0,i.jsx)(n.td,{children:"c\u1ee7a relations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"amod"}),(0,i.jsx)(n.td,{children:"Adjectival modifier"}),(0,i.jsx)(n.td,{children:"\u0111\u1eb9p \u2192 noun"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"advmod"}),(0,i.jsx)(n.td,{children:"Adverbial modifier"}),(0,i.jsx)(n.td,{children:"r\u1ea5t \u2192 adj"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"punct"}),(0,i.jsx)(n.td,{children:"Punctuation"}),(0,i.jsx)(n.td,{children:". , ! ?"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"usage-3",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from underthesea import dependency_parse\n\nresult = dependency_parse(\"T\xf4i l\xe0 sinh vi\xean Vi\u1ec7t Nam\")\n# [('T\xf4i', 3, 'nsubj'), ('l\xe0', 3, 'cop'), ('sinh vi\xean', 0, 'root'), ('Vi\u1ec7t Nam', 3, 'compound')]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"visualization",children:"Visualization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from underthesea.pipeline.dependency_parse import render, display\n\nsvg = render("T\xf4i y\xeau Vi\u1ec7t Nam")\ndisplay("T\xf4i y\xeau Vi\u1ec7t Nam")  # In Jupyter notebook\n'})}),"\n",(0,i.jsx)(n.h3,{id:"training",children:"Training"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from underthesea.datasets.vlsp2020_dp import VLSP2020_DP_SAMPLE\nfrom underthesea.models.dependency_parser import DependencyParser\nfrom underthesea.modules.embeddings import FieldEmbeddings, CharacterEmbeddings\nfrom underthesea.trainers.dependency_parser_trainer import DependencyParserTrainer\n\ncorpus = VLSP2020_DP_SAMPLE()\nembeddings = [FieldEmbeddings(), CharacterEmbeddings()]\nparser = DependencyParser(embeddings=embeddings, init_pre_train=True)\n\ntrainer = DependencyParserTrainer(parser, corpus)\ntrainer.train(base_path="path/to/save/model", max_epochs=100, lr=2e-3, mu=0.9, batch_size=5000)\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Lafferty, J., McCallum, A., & Pereira, F. (2001). Conditional Random Fields: Probabilistic Models for Segmenting and Labeling Sequence Data. ICML."}),"\n",(0,i.jsx)(n.li,{children:"Dozat, T., & Manning, C. D. (2017). Deep Biaffine Attention for Neural Dependency Parsing. ICLR 2017."}),"\n",(0,i.jsx)(n.li,{children:"VLSP 2020 Shared Task: Vietnamese Dependency Parsing"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://huggingface.co/undertheseanlp/tre-1",children:"undertheseanlp/tre-1"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://universaldependencies.org/",children:"Universal Dependencies"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/undertheseanlp/underthesea",children:"Underthesea GitHub Repository"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"changelog",children:"Changelog"}),"\n",(0,i.jsx)(n.h3,{id:"version-913-pr-871",children:"Version 9.1.3 (PR #871)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Added PyTorch v2.0+ support for dependency parsing"}),"\n",(0,i.jsx)(n.li,{children:"Fixed deprecated API usage"}),"\n",(0,i.jsx)(n.li,{children:"Added training CI test (train-dep)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"version-660",children:"Version 6.6.0"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Integrated CRF word tokenization model (checkpoint: ",(0,i.jsx)(n.code,{children:"20230727"}),")"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>c});var d=r(6540);const i={},s=d.createContext(i);function t(e){const n=d.useContext(s);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),d.createElement(s.Provider,{value:n},e.children)}}}]);